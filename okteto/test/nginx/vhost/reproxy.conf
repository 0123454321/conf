server {
  listen              2001;
  server_name         default;
 
rewrite ^/luci-static/(.*)$ /cgi-bin/luci/luci-static/$1 break;
rewrite ^/op$ /cgi-bin/luci break;
#arewrite ^/op/$ /op/cgi-bin/luci break;
#  location /op/ {
#      proxy_method GET;
#      proxy_set_header Host $host;
#      proxy_set_header  X-Real-IP        $remote_addr;
#      proxy_set_header  X-Forwarded-For  $proxy_add_x_forwarded_for;
#      proxy_set_header X-NginX-Proxy true;

#      rewrite ^/op/(.*)$ /$1 break;
#      proxy_pass http://localhost:2100;
#  }
    
#  location /luci-static/ {
#      proxy_set_header Host $host;
#      proxy_set_header  X-Real-IP        $remote_addr;
#      proxy_set_header  X-Forwarded-For  $proxy_add_x_forwarded_for;
#      proxy_set_header X-NginX-Proxy true;

      #rewrite ^/api/(.*)$ /$1 break;
#      proxy_pass http://localhost:2100;
#  }

location /cgi-bin/luci {
      proxy_set_header Host $host;
      proxy_set_header  X-Real-IP        $remote_addr;
      proxy_set_header  X-Forwarded-For  $proxy_add_x_forwarded_for;
      proxy_set_header X-NginX-Proxy true;

      #rewrite ^/api/(.*)$ /$1 break;
	rewrite ^/cgi-bin/luci/luci-static/(.*)$ /luci-static/$1 break;	
      proxy_pass http://localhost:2100;
  }


}
